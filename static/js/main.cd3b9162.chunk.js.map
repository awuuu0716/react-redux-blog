{"version":3,"sources":["utils.js","WebAPI.js","redux/blogSlice.js","components/Header/Header.js","pages/LoginPage/LoginPage.js","pages/SignUpPage/SignUpPage.js","pages/HomePage/HomePage.js","pages/PostPage/PostPage.js","pages/NewPostPage/NewPostPage.js","pages/AboutPage/AboutPage.js","pages/EditPostPage/EditPostPage.js","components/App/App.js","app/store.js","index.js"],"names":["TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","BASE_URL","getMe","fetch","headers","authorization","then","res","json","blogSlice","createSlice","name","initialState","posts","paginate","userData","isLodingUser","loginResponse","errorMessage","post","reducers","setPosts","state","action","payload","setPost","setPaginate","setUser","setIsLodingUser","setErrorMessage","setLoginResponse","actions","getPosts","page","dispatch","getPaginatePosts","cloneResponse","clone","totalPages","Math","ceil","get","tempArr","i","push","createPaginateArr","getPost","id","getPostAPI","deletePost","method","deletePostAPI","login","username","password","body","JSON","stringify","loginAPI","data","ok","toString","message","newPost","title","content","newPostAPI","editPost","editPostAPI","selectPosts","blog","selectPost","selectPaginate","selectUser","selectIsLodingUser","selectErrorMessage","HeaderContainer","styled","div","Brand","Link","NavbarList","Nav","props","$active","LeftContainer","Header","user","useSelector","pathname","useLocation","history","useHistory","useDispatch","to","onClick","ErrorMessage","Form","form","LoginPage","useState","setUsername","setPassword","isSubmit","useRef","onSubmit","e","preventDefault","current","value","onChange","target","required","type","SignUpPage","nickname","setNickname","signUp","response","Root","PostContainer","PostTitle","PostDate","PaginateContainer","ul","Paginate","li","Post","createdAt","Date","toLocaleString","HomePage","useEffect","length","map","handlePaginate","TitleContainer","PostBody","Button","button","Title","h1","PostPage","useParams","handleDelete","handleEdit","InputContainer","InputTitle","input","InputStory","textarea","SubmitButton","NewPostPage","setTitle","setContent","placeholder","rows","AboutTitle","AboutBody","AboutPage","App","exact","path","configureStore","reducer","blogReducer","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.cd3b9162.chunk.js","sourcesContent":["const TOKEN_NAME = 'token';\r\n\r\nexport const setAuthToken = (token) => {\r\n  localStorage.setItem(TOKEN_NAME, token);\r\n};\r\n\r\nexport const getAuthToken = () => localStorage.getItem(TOKEN_NAME);\r\n\r\nexport const createPaginateArr = (totalPages) => {\r\n  const tempArr = [];\r\n  for (let i = 1; i <= totalPages; i++) {\r\n    tempArr.push(i);\r\n  }\r\n  return tempArr;\r\n};\r\n","import { getAuthToken } from './utils';\r\n\r\nconst BASE_URL = 'https://student-json-api.lidemy.me';\r\n\r\nexport const getPaginatePosts = (page) => {\r\n  return fetch(\r\n    `${BASE_URL}/posts?_page=${page}&_limit=5&_sort=id&_order=desc`\r\n  ).then((res) => res);\r\n};\r\n\r\nexport const getPost = (id) => {\r\n  return fetch(`${BASE_URL}/posts?id=${id}`).then((res) => res.json());\r\n};\r\n\r\nexport const login = (username, password) =>\r\n  fetch(`${BASE_URL}/login`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      username,\r\n      password,\r\n    }),\r\n  }).then((res) => res.json());\r\n\r\nexport const deletePost = (id) =>\r\n  fetch(`${BASE_URL}/posts/${id}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n    },\r\n  }).then((res) => res.json());\r\n\r\nexport const signUp = (nickname, username, password) =>\r\n  fetch(`${BASE_URL}/register`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      nickname,\r\n      username,\r\n      password,\r\n    }),\r\n  }).then((res) => res.json());\r\n\r\nexport const getMe = () => {\r\n  const token = getAuthToken();\r\n  return fetch(`${BASE_URL}/me`, {\r\n    headers: {\r\n      authorization: `Bearer ${token}`,\r\n    },\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const newPost = (title, body) => {\r\n  const token = getAuthToken();\r\n  return fetch(`${BASE_URL}/posts`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n      authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({\r\n      title,\r\n      body,\r\n    }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const editPost = (title, body, id) => {\r\n  return fetch(`${BASE_URL}/posts/${id}`, {\r\n    method: 'PATCH',\r\n    headers: {\r\n      'content-type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      title,\r\n      body,\r\n    }),\r\n  }).then((res) => res.json());\r\n};\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport {\r\n  getPaginatePosts,\r\n  getMe,\r\n  login as loginAPI,\r\n  newPost as newPostAPI,\r\n  getPost as getPostAPI,\r\n  deletePost as deletePostAPI,\r\n  editPost as editPostAPI,\r\n} from '../WebAPI';\r\nimport { createPaginateArr, setAuthToken } from '../utils';\r\n\r\nexport const blogSlice = createSlice({\r\n  name: 'blog',\r\n  initialState: {\r\n    posts: [],\r\n    paginate: [],\r\n    userData: null,\r\n    isLodingUser: false,\r\n    loginResponse: null,\r\n    errorMessage: '',\r\n    post: null,\r\n  },\r\n  reducers: {\r\n    setPosts: (state, action) => {\r\n      state.posts = action.payload;\r\n    },\r\n    setPost: (state, action) => {\r\n      state.post = action.payload;\r\n    },\r\n    setPaginate: (state, action) => {\r\n      state.paginate = action.payload;\r\n    },\r\n    setUser: (state, action) => {\r\n      state.userData = action.payload;\r\n    },\r\n    setIsLodingUser: (state, action) => {\r\n      state.isLodingUser = action.payload;\r\n    },\r\n    setErrorMessage: (state, action) => {\r\n      state.errorMessage = action.payload;\r\n    },\r\n    setLoginResponse: (state, action) => {\r\n      state.errorMessage = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setPosts,\r\n  setPaginate,\r\n  setUser,\r\n  setIsLodingUser,\r\n  setErrorMessage,\r\n  setLoginResponse,\r\n  setPost,\r\n} = blogSlice.actions;\r\n\r\nexport const getPosts = (page) => (dispatch) => {\r\n  getPaginatePosts(page)\r\n    .then((res) => {\r\n      const cloneResponse = res.clone();\r\n      const totalPages = Math.ceil(\r\n        cloneResponse.headers.get('x-total-count') / 5\r\n      );\r\n      dispatch(setPaginate(createPaginateArr(totalPages)));\r\n      return res.json();\r\n    })\r\n    .then((posts) => {\r\n      dispatch(setPosts(posts));\r\n    });\r\n};\r\n\r\nexport const getPost = (id) => (dispatch) => {\r\n  return getPostAPI(id).then((post) => {\r\n    dispatch(setPost(post[0]));\r\n    return post;\r\n  });\r\n};\r\n\r\nexport const deletePost = (id) => (dispatch) => {\r\n  return deletePostAPI(id).then((res) => res);\r\n};\r\n\r\nexport const getUser = () => (dispatch) => {\r\n  getMe().then((res) => {\r\n    if (res.ok) dispatch(setUser(res.data));\r\n    dispatch(setIsLodingUser(false));\r\n  });\r\n};\r\n\r\nexport const login = (username, password) => (dispatch) => {\r\n  return loginAPI(username, password).then((data) => {\r\n    if (data.ok === 0) {\r\n      dispatch(setErrorMessage(data.message));\r\n      return;\r\n    }\r\n    setAuthToken(data.token);\r\n    return getMe().then((res) => {\r\n      if (res.ok !== 1) {\r\n        dispatch(setErrorMessage(res.toString()));\r\n        return;\r\n      }\r\n      dispatch(setUser(res.data));\r\n      return res;\r\n    });\r\n  });\r\n};\r\n\r\nexport const newPost = (title, content) => (dispatch) => {\r\n  return newPostAPI(title, content).then((res) => {\r\n    if (res.ok === 0) {\r\n      dispatch(setErrorMessage(res.message));\r\n      return;\r\n    }\r\n    return res;\r\n  });\r\n};\r\n\r\nexport const editPost = (title, content, id) => (dispatch) => {\r\n  return editPostAPI(title, content, id).then((res) => {\r\n    if (res.ok === 0) {\r\n      dispatch(setErrorMessage(res.message));\r\n      return;\r\n    }\r\n    return res;\r\n  });\r\n};\r\n\r\nexport const selectPosts = (state) => state.blog.posts;\r\nexport const selectPost = (state) => state.blog.post;\r\nexport const selectPaginate = (state) => state.blog.paginate;\r\nexport const selectUser = (state) => state.blog.userData;\r\nexport const selectIsLodingUser = (state) => state.blog.isLodingUser;\r\nexport const selectErrorMessage = (state) => state.blog.errorMessage;\r\n\r\nexport default blogSlice.reducer;\r\n","import { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { setAuthToken } from '../../utils';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { selectUser, setUser, selectIsLodingUser } from '../../redux/blogSlice';\r\n\r\nconst HeaderContainer = styled.div`\r\n  height: 64px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\r\n  padding: 0 32px;\r\n  background: white;\r\n`;\r\n\r\nconst Brand = styled(Link)`\r\n  color: black;\r\n  text-decoration: none;\r\n  user-select: none;\r\n  font-size: 32px;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst NavbarList = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  height: 64px;\r\n`;\r\n\r\nconst Nav = styled(Link)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  width: 100px;\r\n  cursor: pointer;\r\n  color: black;\r\n  text-decoration: none;\r\n\r\n  ${(props) => props.$active && 'background: rgba(0,0,0,0.1)'}\r\n`;\r\n\r\nconst LeftContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  ${NavbarList} {\r\n    margin-left: 16px;\r\n  }\r\n`;\r\n\r\nexport default function Header() {\r\n  const user = useSelector(selectUser);\r\n  // 加 isLodingUser 的用意是為了不讓有登入過的使用者看到畫面閃一下 login 與 sign up\r\n  // 閃一下也沒差的話應該可以拔掉這個 state\r\n  const isLodingUser = useSelector(selectIsLodingUser);\r\n  const pathname = useLocation().pathname;\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleLogout = () => {\r\n    setAuthToken('');\r\n    dispatch(setUser(null));\r\n    if (pathname !== '/') history.push('/');\r\n  };\r\n\r\n  return (\r\n    <HeaderContainer>\r\n      <LeftContainer>\r\n        <Brand to=\"/\">Blog</Brand>\r\n        <NavbarList>\r\n          <Nav to=\"/\" $active={pathname === '/'}>\r\n            HomePage\r\n          </Nav>\r\n          <Nav to=\"/about\" $active={pathname === '/about'}>\r\n            About\r\n          </Nav>\r\n          {!isLodingUser && user && (\r\n            <Nav to=\"/new-post\" $active={pathname === '/new-post'}>\r\n              New Post\r\n            </Nav>\r\n          )}\r\n        </NavbarList>\r\n      </LeftContainer>\r\n      <NavbarList>\r\n        {!isLodingUser && !user && (\r\n          <Nav to=\"/login\" $active={pathname === '/login'}>\r\n            Log in\r\n          </Nav>\r\n        )}\r\n        {!isLodingUser && !user && (\r\n          <Nav to=\"/sign-up\" $active={pathname === '/sign-up'}>\r\n            Sign up\r\n          </Nav>\r\n        )}\r\n        {!isLodingUser && user && (\r\n          <Nav to=\"/\" onClick={handleLogout}>\r\n            log out\r\n          </Nav>\r\n        )}\r\n      </NavbarList>\r\n    </HeaderContainer>\r\n  );\r\n}\r\n","import { useState, useRef } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  selectErrorMessage,\r\n  login,\r\n  setErrorMessage,\r\n} from '../../redux/blogSlice';\r\n\r\nconst ErrorMessage = styled.div`\r\n  color: red;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 500px;\r\n  height: 120px;\r\n  padding: 20px;\r\n  margin: 100px auto;\r\n  border: 1px solid #fbfbfb;\r\n  box-shadow: 1px 1px 3px #fbfbfb;\r\n`;\r\n\r\nexport default function LoginPage() {\r\n  const errorMessage = useSelector(selectErrorMessage);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const isSubmit = useRef(false);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (isSubmit.current) return;\r\n    isSubmit.current = true;\r\n    dispatch(setErrorMessage(''));\r\n    dispatch(login(username, password)).then((res) => {\r\n      isSubmit.current = false;\r\n      if (res) history.push('/');\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <div>\r\n        username:\r\n        <input\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n      <div>\r\n        password:\r\n        <input\r\n          value={password}\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n      <button type=\"submit\">Log in</button>\r\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n    </Form>\r\n  );\r\n}\r\n","import { useState, useRef } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { signUp, getMe } from '../../WebAPI';\r\nimport { setAuthToken } from '../../utils';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setUser } from '../../redux/blogSlice';\r\n\r\nconst ErrorMessage = styled.div`\r\n  color: red;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 500px;\r\n  height: 120px;\r\n  padding: 20px;\r\n  margin: 100px auto;\r\n  border: 1px solid #fbfbfb;\r\n  box-shadow: 1px 1px 3px #fbfbfb;\r\n`;\r\n\r\nexport default function SignUpPage() {\r\n  const dispatch = useDispatch();\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [nickname, setNickname] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const isSubmit = useRef(false);\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (e) => {\r\n    setErrorMessage('');\r\n    e.preventDefault();\r\n    if (isSubmit.current) return;\r\n    isSubmit.current = true;\r\n    signUp(nickname, username, password).then((data) => {\r\n      if (data.ok === 0) return setErrorMessage(data.message);\r\n      setAuthToken(data.token);\r\n      getMe().then((response) => {\r\n        if (response.ok !== 1) {\r\n          setAuthToken('');\r\n          return setErrorMessage(response.toString());\r\n        }\r\n        dispatch(setUser(response.data));\r\n        history.push('/');\r\n        isSubmit.current = false;\r\n      });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <div>\r\n        nickname:\r\n        <input\r\n          value={nickname}\r\n          onChange={(e) => setNickname(e.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n      <div>\r\n        username:\r\n        <input\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n      <div>\r\n        password:\r\n        <input\r\n          value={password}\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <button type=\"submit\">Sign Up</button>\r\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n    </Form>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { selectPosts, selectPaginate, getPosts } from '../../redux/blogSlice';\r\n\r\nconst Root = styled.div`\r\n  width: 40%;\r\n  margin: 0 auto;\r\n`;\r\nconst PostContainer = styled.div`\r\n  border-bottom: 1px solid rgba(0, 12, 34, 0.2);\r\n  padding: 16px;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: space-between;\r\n\r\n  &:hover {\r\n    background: rgba(200, 200, 200, 0.1);\r\n  }\r\n`;\r\nconst PostTitle = styled(Link)`\r\n  max-width: 500px;\r\n  font-size: 24px;\r\n  color: #333;\r\n  text-decoration: none;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nconst PostDate = styled.div`\r\n  color: rgba(0, 0, 0, 0.8);\r\n`;\r\n\r\nconst PaginateContainer = styled.ul`\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 0;\r\n`;\r\n\r\nconst Paginate = styled.li`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 25px;\r\n  height: 25px;\r\n  margin: 0 10px;\r\n  border: 1px solid #fbfbfb;\r\n  border-radius: 3px;\r\n  list-style: none;\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  &:hover {\r\n    background: rgba(200, 200, 200, 0.1);\r\n  }\r\n`;\r\n\r\nfunction Post({ post }) {\r\n  return (\r\n    <PostContainer>\r\n      <PostTitle to={`/post/${post.id}`}>{post.title}</PostTitle>\r\n      <PostDate>\r\n        {post.createdAt && new Date(post.createdAt).toLocaleString()}\r\n      </PostDate>\r\n    </PostContainer>\r\n  );\r\n}\r\n\r\nexport default function HomePage() {\r\n  const posts = useSelector(selectPosts);\r\n  const paginate = useSelector(selectPaginate);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => dispatch(getPosts(1)), [dispatch]);\r\n\r\n  const handlePaginate = (page) => dispatch(getPosts(page));\r\n\r\n  return (\r\n    <Root>\r\n      {posts.length > 0 ? (\r\n        posts.map((post) => <Post post={post} key={post.id} />)\r\n      ) : (\r\n        <Post post={{ title: 'Loading...' }} />\r\n      )}\r\n      <PaginateContainer>\r\n        {posts.length > 0 &&\r\n          paginate.map((page) => (\r\n            <Paginate onClick={() => handlePaginate(page)} key={page}>\r\n              {page}\r\n            </Paginate>\r\n          ))}\r\n      </PaginateContainer>\r\n    </Root>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  selectPost,\r\n  getPost,\r\n  setPost,\r\n  deletePost,\r\n  selectUser,\r\n} from '../../redux/blogSlice';\r\n\r\nconst Root = styled.div`\r\n  width: 40%;\r\n  margin: 0 auto;\r\n  padding-top: 50px;\r\n`;\r\n\r\nconst TitleContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 48px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin: 10px 0;\r\n`;\r\n\r\nconst PostDate = styled.div`\r\n  color: rgba(0, 0, 0, 0.8);\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst PostBody = styled.div`\r\n  font-size: 24px;\r\n  color: #333;\r\n  max-width: 600px;\r\n  word-wrap: break-word;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  font-size: 20px;\r\n  border: 1px solid #333;\r\n  border-radius: 3px;\r\n  background: white;\r\n  color: #333;\r\n  cursor: pointer;\r\n  transition: all 0.1s ease-in-out;\r\n\r\n  &:hover {\r\n    background: red;\r\n    color: white;\r\n  }\r\n\r\n  & + & {\r\n    margin-left: 10px;\r\n\r\n    &:hover {\r\n      background: green;\r\n      color: white;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 32px;\r\n  max-width: 600px;\r\n  color: #333;\r\n  word-wrap: break-word;\r\n`;\r\n\r\nexport default function PostPage() {\r\n  const user = useSelector(selectUser);\r\n  const post = useSelector(selectPost);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    dispatch(getPost(id));\r\n    return () => dispatch(setPost(null));\r\n  }, [dispatch, id]);\r\n\r\n  const handleDelete = (id) => {\r\n    dispatch(deletePost(id)).then(() => history.push('/'));\r\n  };\r\n\r\n  const handleEdit = (id) => {\r\n    history.push(`/edit/${id}`);\r\n  };\r\n\r\n  return (\r\n    <Root>\r\n      <div>\r\n        <TitleContainer>\r\n          <Title>{post && post.title}</Title>\r\n          {user && (\r\n            <div>\r\n              <Button onClick={() => handleDelete(id)}>Delete</Button>\r\n              <Button onClick={() => handleEdit(id)}>Edit</Button>\r\n            </div>\r\n          )}\r\n        </TitleContainer>\r\n        <PostDate>{post && new Date(post.createdAt).toLocaleString()}</PostDate>\r\n        <PostBody>{post && post.body}</PostBody>\r\n      </div>\r\n    </Root>\r\n  );\r\n}\r\n","import { useState, useRef } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { newPost, selectErrorMessage } from '../../redux/blogSlice';\r\n\r\nconst ErrorMessage = styled.div`\r\n  color: red;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n  width: 800px;\r\n  padding: 20px;\r\n  margin: 60px auto;\r\n  border: 1px solid #fbfbfb;\r\n  box-shadow: 1px 1px 3px #fbfbfb;\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst InputTitle = styled.input`\r\n  border: none;\r\n  font-size: 40px;\r\n  font-weight: bold;\r\n  outline: none;\r\n  color: #333;\r\n  margin-bottom: 20px;\r\n  border-bottom: 2px solid rgba(0, 0, 0, 0);\r\n  transition: border 0.2s ease-in-out;\r\n\r\n  &:focus {\r\n    border-bottom: 2px solid rgba(0, 0, 0, 0.2);\r\n  }\r\n`;\r\n\r\nconst InputStory = styled.textarea`\r\n  width: 100%;\r\n  border: none;\r\n  font-size: 24px;\r\n  outline: none;\r\n  resize: none;\r\n`;\r\n\r\nconst SubmitButton = styled.button`\r\n  width: 80px;\r\n  height: 35px;\r\n  border: none;\r\n  outline: none;\r\n  background: rgb(26, 137, 23);\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n  color: #fff;\r\n\r\n  &:hover {\r\n    background: rgb(12, 110, 15);\r\n  }\r\n`;\r\n\r\nexport default function NewPostPage() {\r\n  const [title, setTitle] = useState('');\r\n  const [content, setContent] = useState('');\r\n  const errorMessage = useSelector(selectErrorMessage);\r\n  const history = useHistory();\r\n  const isSubmit = useRef(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (isSubmit.current) return;\r\n    isSubmit.current = true;\r\n    dispatch(newPost(title, content)).then((res) => {\r\n      isSubmit.current = false;\r\n      if (res) history.push('/');\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <InputContainer>\r\n        <InputTitle\r\n          placeholder=\"Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          required\r\n        />\r\n      </InputContainer>\r\n      <InputContainer>\r\n        <InputStory\r\n          rows=\"10\"\r\n          placeholder=\"Tell your story...\"\r\n          value={content}\r\n          onChange={(e) => setContent(e.target.value)}\r\n          required\r\n        />\r\n      </InputContainer>\r\n      <SubmitButton type=\"submit\">Submit</SubmitButton>\r\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n    </Form>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\n\r\nconst Root = styled.div`\r\n  width: 40%;\r\n  margin: 0 auto;\r\n  padding-top: 50px;\r\n`;\r\n\r\nconst AboutTitle = styled.div`\r\n  font-size: 48px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  color: #333;\r\n  margin: 10px 0;\r\n`;\r\n\r\nconst AboutBody = styled.div`\r\n  font-size: 24px;\r\n  color: #333;\r\n`;\r\n\r\nexport default function AboutPage() {\r\n  return (\r\n    <Root>\r\n      <div>\r\n        <AboutTitle>About This Blog</AboutTitle>\r\n        <AboutBody>\r\n          A blog that made up with React, still practing T_T.\r\n        </AboutBody>\r\n      </div>\r\n    </Root>\r\n  );\r\n}\r\n","import { useState, useRef, useEffect } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  editPost,\r\n  selectErrorMessage,\r\n  getPost,\r\n  setPost,\r\n} from '../../redux/blogSlice';\r\n\r\nconst ErrorMessage = styled.div`\r\n  color: red;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n  width: 800px;\r\n  padding: 20px;\r\n  margin: 60px auto;\r\n  border: 1px solid #fbfbfb;\r\n  box-shadow: 1px 1px 3px #fbfbfb;\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst InputTitle = styled.input`\r\n  border: none;\r\n  font-size: 40px;\r\n  font-weight: bold;\r\n  outline: none;\r\n  color: #333;\r\n  margin-bottom: 20px;\r\n  border-bottom: 2px solid rgba(0, 0, 0, 0);\r\n  transition: border 0.2s ease-in-out;\r\n\r\n  &:focus {\r\n    border-bottom: 2px solid rgba(0, 0, 0, 0.2);\r\n  }\r\n`;\r\n\r\nconst InputStory = styled.textarea`\r\n  width: 100%;\r\n  border: none;\r\n  font-size: 24px;\r\n  outline: none;\r\n  resize: none;\r\n`;\r\n\r\nconst SubmitButton = styled.button`\r\n  width: 80px;\r\n  height: 35px;\r\n  border: none;\r\n  outline: none;\r\n  background: rgb(26, 137, 23);\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n  color: #fff;\r\n\r\n  &:hover {\r\n    background: rgb(12, 110, 15);\r\n  }\r\n`;\r\n\r\nexport default function NewPostPage() {\r\n  const [title, setTitle] = useState('');\r\n  const [content, setContent] = useState('');\r\n  const errorMessage = useSelector(selectErrorMessage);\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n  const isSubmit = useRef(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (isSubmit.current) return;\r\n    isSubmit.current = true;\r\n    dispatch(editPost(title, content, id)).then((res) => {\r\n      isSubmit.current = false;\r\n      if (res) history.push('/');\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getPost(id)).then((post) => {\r\n      setTitle(post[0].title);\r\n      setContent(post[0].body);\r\n    });\r\n    return () => dispatch(setPost(null));\r\n  }, [dispatch, id]);\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <InputContainer>\r\n        <InputTitle\r\n          placeholder=\"Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          required\r\n        />\r\n      </InputContainer>\r\n      <InputContainer>\r\n        <InputStory\r\n          rows=\"10\"\r\n          placeholder=\"Tell your story...\"\r\n          value={content}\r\n          onChange={(e) => setContent(e.target.value)}\r\n          required\r\n        />\r\n      </InputContainer>\r\n      <SubmitButton type=\"submit\">Submit</SubmitButton>\r\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n    </Form>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getUser, setIsLodingUser, selectUser } from '../../redux/blogSlice';\r\nimport { getAuthToken } from '../../utils';\r\nimport styled from 'styled-components';\r\nimport Header from '../Header';\r\nimport LoginPage from '../../pages/LoginPage';\r\nimport SignUpPage from '../../pages/SignUpPage';\r\nimport HomePage from '../../pages/HomePage';\r\nimport PostPage from '../../pages/PostPage';\r\nimport NewPostPage from '../../pages/NewPostPage';\r\nimport AboutPage from '../../pages/AboutPage';\r\nimport EditPostPage from '../../pages/EditPostPage';\r\n\r\nconst Root = styled.div`\r\n  padding-top: 64px;\r\n`;\r\n\r\nfunction App() {\r\n  const user = useSelector(selectUser);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (getAuthToken()) {\r\n      dispatch(getUser());\r\n      dispatch(setIsLodingUser(true));\r\n    }\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Root>\r\n      <Router>\r\n        <Header />\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <HomePage />\r\n          </Route>\r\n          <Route exact path=\"/login\">\r\n            <LoginPage />\r\n          </Route>\r\n          <Route path=\"/post/:id\">\r\n            <PostPage />\r\n          </Route>\r\n          <Route path=\"/new-post\">{user && <NewPostPage />}</Route>\r\n          <Route path=\"/edit/:id\">{user && <EditPostPage />}</Route>\r\n          <Route path=\"/about\">\r\n            <AboutPage />\r\n          </Route>\r\n          <Route path=\"/sign-up\">\r\n            <SignUpPage />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </Root>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport blogReducer from '../redux/blogSlice';\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    blog: blogReducer,\r\n  },\r\n});\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport store from './app/store';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}